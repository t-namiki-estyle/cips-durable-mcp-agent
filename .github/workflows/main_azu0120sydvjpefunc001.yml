# Docs for the Azure Web Apps Deploy action: https://github.com/azure/functions-action
# More GitHub Actions for Azure: https://github.com/Azure/actions
# More info on Python, GitHub Actions, and Azure Functions: https://aka.ms/python-webapps-actions

name: Build and deploy Python project to Azure Function App - Azu0121SyDvJpeFunc001

on:
  push:
    branches:
      - staging
      - dev
  workflow_dispatch:

jobs:
  call-workflow:
    uses: t-namiki-estyle/icf-i-style/.github/workflows/reusable-azure-functions-python-deploy.yml@main
    with:
      PYTHON_VERSION: "3.11"
      APP_NAME: 'Azu0121SyDvJpeFunc001'
      AZURE_FUNCTIONAPP_PACKAGE_PATH: "."
    secrets:
      I_STYLE_TOKEN: ${{ secrets.ICF_ISTYLE_PAT_SECRET }}
      PUBLISH_PROFILE: ${{ secrets.AZUREAPPSERVICE_PUBLISHPROFILE_10692DFEABAB46998D1F4A9E8297B113 }}